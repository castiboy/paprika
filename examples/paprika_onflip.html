<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
	<style>
		#leftColumn {
            float:left;
            margin-right: 20px;
        }
        #rightColumn {
            float:left;
        }
        #exampleFrame {
            width: 640px;
            height: 480px;
            background-color: #AAAABB;
        }
	</style>
</head>

<body>
        <h1>Paprika examples</h1>
        <h2>Paprika.onFlip(callback, objectName)</h2>
        <h3>Uses tags: 6, 7, 8, 9</h3>
    
    <div id="leftColumn">
        <div id="videoFrame"></div>
    </div>
    
    <div id="rightColumn">
        <div id="exampleFrame"></div>
    </div>

	<script src="../js/three.min.js"></script>
    <script src="../js/paprika.js"></script>
	
    <script>
        var exampleFrame = document.getElementById("exampleFrame");
        
        var tagText = document.createTextNode('');
        var tagDiv = document.createElement("div");
        tagDiv.style.position = "relative";
        tagDiv.style.left = "310px";
        tagDiv.style.top = "230px";
        tagDiv.appendChild(tagText);
        exampleFrame.appendChild(tagDiv);
        
        Paprika.start("videoFrame");
        
        var card = {};
        // white side
        card[6] = {size: 20, dx: -17.5, dy: -30};
        card[7] = {size: 20, dx:  17.5, dy:  30};
        // black side
        card[8] = {size: 20, dx: -17.5, dy: -30, back:true};
        card[9] = {size: 20, dx:  17.5, dy:  30, back:true};

        Paprika.defineCards({card:card});

        Paprika.onFlip(function(data) {
            tagText.nodeValue = data.objectName;
            
            if(data.facing){
                exampleFrame.style.color = "black";
                exampleFrame.style.backgroundColor = "#DDDDDD";
            } else {
                exampleFrame.style.color = "white";
                exampleFrame.style.backgroundColor = "#222222";
            }
            
            console.log("objectName: " + data.objectName +
                        ", facing: " + data.facing + 
                        ", tilt: " + data.tilt + 
                        ", orientation: " + data.orientation);
        }, "card");
    </script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-51958274-1', 'chili-epfl.github.io');
        ga('send', 'pageview');
    </script>
</body>
</html>
